---
interface Props {
  link: string
  theme: "pink" | "purple" | "orange"
  size?: "sm" | "lg"
  variant?: "filled" | "outlined" | "muted"
  rounding?: "rect" | "pill"
  type?: "button" | "submit" | "reset"
  disabled?: boolean
}

const {
  link,
  theme,
  size = "sm",
  variant = "filled",
  rounding = "rect",
  disabled = false,
} = Astro.props

const base = "inline-flex w-fit items-center justify-center font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2 shadow-md transition-all duration-150 hover:-translate-y-1"

const sizes = {
    sm: "px-8 py-3 text-md",
    lg: "px-8 py-3 sm:px-16 sm:py-6 text-lg",
}

const roundingStyles = {
    rect: "rounded-xl",
    pill: "rounded-full",
}

const themes = {
    pink: {
        filled: "bg-pink-500 text-white hover:bg-pink-600 focus:ring-pink-500",
        outlined: "border-2 border-pink-500 text-pink-500 hover:bg-pink-50 focus:ring-pink-500",
        muted: "bg-pink-100 text-pink-500 hover:bg-pink-200 focus:ring-pink-500",
    },
    purple: {
        filled: "bg-purple-500 text-white hover:bg-purple-600 focus:ring-purple-500",
        outlined: "border-2 border-purple-500 text-purple-500 hover:bg-purple-50 focus:ring-purple-500",
        muted: "bg-purple-100 text-purple-500 hover:bg-purple-200 focus:ring-purple-500",
    },
    orange: {
        filled: "bg-orange-500 text-white hover:bg-orange-600 focus:ring-orange-500",
        outlined: "border-2 border-orange-500 text-orange-500 hover:bg-orange-50 focus:ring-orange-500",
        muted: "bg-orange-100 text-orange-500 hover:bg-orange-200 focus:ring-orange-500",
    },
} as const

const disabledStyles ="opacity-50 cursor-not-allowed hover:bg-opacity-100"

const classes = [
    base,
    sizes[size],
    roundingStyles[rounding],
    themes[theme][variant],
    disabled && disabledStyles,
].filter(Boolean).join(" ")
---

<a href={ link } class=`${ classes }`>
    <slot />
</a>
